import{_ as d,c as r,o as l,a as n,w as u,v as c,b as g,d as m,F as f,r as v,e as a,t as i}from"./main-BOoC0Au4.js";import"./index-DOgFo_2X.js";const x={inject:["gpt"],data:()=>({content:"",reply:"",messages:[]}),created(){this.gpt.listen(t=>{console.log("Callback in component",t,t==null?void 0:t.progress)})},watch:{"gpt.response"(){const t=this.$refs.output;t.scrollTop=t.scrollHeight}},methods:{async prompt(t){const e=await this.gpt.prompt(t);console.log("Response in Component",e);const p=JSON.parse(e);typeof this[p.command]=="function"&&this[p.command]()},CREATE_PROJECT(){console.log("created")},DELETE_PROJECT(){console.log("deleted")},RELOAD_PROJECT(){console.log("reloaded")},PUBLISH_PROJECT(){console.log("published")}}},y={ref:"output",style:{height:"calc(100vh - 300px)",background:"silver",overflow:"auto",display:"flex","max-width":"600px","flex-direction":"column","border-radius":"8px",padding:"20px",gap:"10px"}},C={style:{display:"flex","flex-direction":"column",gap:"5px"}},b={key:0,style:{display:"flex","flex-direction":"column",gap:"5px"}};function E(t,e,p,k,T,s){return l(),r("div",null,[e[7]||(e[7]=n("label",null,"Prompt",-1)),u(n("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>t.content=o),onKeypress:e[1]||(e[1]=g(o=>s.prompt({messages:[{role:"user",content:t.content}],context:""}),["enter"]))},null,544),[[c,t.content]]),n("button",{onClick:e[2]||(e[2]=o=>s.prompt({messages:[{role:"user",content:t.content}]}))}," Chat as user "),n("button",{onClick:e[3]||(e[3]=o=>s.prompt({messages:[{role:"user",content:t.content}],reset:!0}))}," Chat as user no history "),n("button",{onClick:e[4]||(e[4]=o=>s.gpt.init())},"Initialize"),n("button",{onClick:e[5]||(e[5]=o=>s.gpt.clearStorage())},"Clear Storage"),n("div",y,[(l(!0),r(f,null,v(s.gpt.messages.filter(o=>o.role!=="system"),o=>(l(),r("div",C,[n("h1",null,i(o.role),1),a(" "+i(o.content),1)]))),256)),s.gpt.response?(l(),r("div",b,[e[6]||(e[6]=n("h1",null,"assistant",-1)),a(" "+i(s.gpt.response),1)])):m("",!0)],512)])}const R=d(x,[["render",E]]);export{R as default};
